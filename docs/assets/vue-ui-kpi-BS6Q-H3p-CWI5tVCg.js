import{c as S}from"./useNestedProp-BxrcwmTZ-BajGsoxe.js";import{k as q,c as x,b as i,d as s,F as k,g as w,z as N,a as p,J as _,n as y,r as L,h as C,e as n,p as b,o as B,i as g,N as M,t as F,j as m,f as z,L as D,H as V}from"./index-C4AKVw_k.js";const A={key:0},j=["d","fill"],O=["d","fill"],X=["d","fill"],E=["d","fill"],H=["d","fill"],J=["d","fill"],R=["d","fill"],T={key:1},G=["cx","cy","fill"],I={__name:"Digit",props:{quanta:{type:String,default:null},backgroundColor:{type:String,default:"#e1e5e8"},color:{type:String,default:"#000000"},x:{type:Number,default:0},y:{type:Number,default:0}},setup(l){const u=l,r=L({0:"1111110",1:"0110000",2:"1101101",3:"1111001",4:"0110011",5:"1011011",6:"1011111",7:"1110000",8:"1111111",9:"1111011","-":"0000001",X:"0000000"}),a=x(()=>[void 0,null].includes(u.quanta)?r.value.X:r.value[u.quanta]);return($,f)=>(i(),s(k,null,[[void 0,null,"."].includes(l.quanta)?C("",!0):(i(),s("g",A,[n("path",{d:`M ${l.x} ${l.y} L ${l.x+2} ${l.y-2} L ${l.x+24} ${l.y-2} L ${l.x+26} ${l.y} L ${l.x+24} ${l.y+2} L ${l.x+2} ${l.y+2}Z`,fill:a.value[0]==1?l.color:l.backgroundColor,stroke:"none"},null,8,j),n("path",{d:`M ${l.x+26} ${l.y+26} L ${l.x+26} ${l.y+4} L ${l.x+28} ${l.y+2} L ${l.x+30} ${l.y+4} L ${l.x+30} ${l.y+26} L ${l.x+28} ${l.y+28} L ${l.x+26} ${l.y+26}`,fill:a.value[1]==1?l.color:l.backgroundColor,stroke:"none"},null,8,O),n("path",{d:`M ${l.x+26} ${l.y+56} L ${l.x+26} ${l.y+34} L ${l.x+28} ${l.y+32} L ${l.x+30} ${l.y+34} L ${l.x+30} ${l.y+56} L ${l.x+28} ${l.y+58} L ${l.x+26} ${l.y+56}`,fill:a.value[2]==1?l.color:l.backgroundColor,stroke:"none"},null,8,X),n("path",{d:`M ${l.x+2} ${l.y+58} L ${l.x} ${l.y+60} L ${l.x+2} ${l.y+62} L ${l.x+24} ${l.y+62} L ${l.x+26} ${l.y+60} L ${l.x+24} ${l.y+58} L ${l.x+2} ${l.y+58}`,fill:a.value[3]==1?l.color:l.backgroundColor,stroke:"none"},null,8,E),n("path",{d:`M ${l.x} ${l.y+34} L ${l.x-2} ${l.y+32} L ${l.x-4} ${l.y+34} L ${l.x-4} ${l.y+56} L ${l.x-2} ${l.y+58} L ${l.x} ${l.y+56} L ${l.x} ${l.y+34}`,fill:a.value[4]==1?l.color:l.backgroundColor,stroke:"none"},null,8,H),n("path",{d:`M ${l.x-2} ${l.y+2} L ${l.x} ${l.y+4} L ${l.x} ${l.y+26} L ${l.x-2} ${l.y+28} L ${l.x-4} ${l.y+26} L ${l.x-4} ${l.y+4} L ${l.x-2} ${l.y+2}`,fill:a.value[5]==1?l.color:l.backgroundColor,stroke:"none"},null,8,J),n("path",{d:`M ${l.x+2} ${l.y+28} L ${l.x} ${l.y+30} L ${l.x+2} ${l.y+32} L ${l.x+24} ${l.y+32} L ${l.x+26} ${l.y+30} L ${l.x+24} ${l.y+28} L ${l.x+2} ${l.y+28}`,fill:a.value[6]==1?l.color:l.backgroundColor,stroke:"none"},null,8,R)])),l.quanta=="."?(i(),s("g",T,[n("circle",{cx:l.x-8,cy:l.y+60,r:3,fill:l.color},null,8,G)])):C("",!0)],64))}},U=["xmlns","viewBox"],Z={__name:"vue-ui-digits",props:{dataset:{type:Number,default:0},config:{type:Object,default(){return{}}}},setup(l){const u=l,{vue_ui_digits:r}=q(),a=x(()=>S({userConfig:u.config,defaultConfig:r})),$=x(()=>{const o=(u.dataset||0).toString().split(""),v=[],e={x:10,y:10};let t=0;for(let d=0;d<o.length;d+=1){const c=o[d];v.push({x:e.x+t,y:e.y,quanta:c}),c=="."?t+=2:t+=44}return v}),f=x(()=>Math.max(...$.value.map(o=>o.x))+36);return(o,v)=>(i(),s("svg",{xmlns:p(_),viewBox:`0 0 ${f.value} 80`,style:y(`background:${a.value.backgroundColor};${a.value.height?`height:${a.value.height};`:""}${a.value.width?`width:${a.value.width}`:""}`)},[(i(!0),s(k,null,w($.value,e=>(i(),N(I,{x:e.x,y:e.y,quanta:e.quanta,color:a.value.digits.color,backgroundColor:a.value.digits.skeletonColor},null,8,["x","y","quanta","color","backgroundColor"]))),256))],12,U))}},Q={__name:"vue-ui-kpi",props:{config:{type:Object,default(){return{}}},dataset:{type:Number,default:0}},setup(l){const u=l,{vue_ui_kpi:r}=q(),a=x({get:()=>$(),set:t=>t});function $(){return S({userConfig:u.config,defaultConfig:r})}b(()=>u.config,t=>{a.value=$(),e()},{deep:!0});const f=L((u.dataset,u.dataset)),o=L(a.value.useAnimation?a.value.animationValueStart:f.value),v=t=>{const d=a.value.animationFrames,c=Math.abs(t-o.value)/d;function h(){o.value<t?o.value=Math.min(o.value+c,t):o.value>t&&(o.value=Math.max(o.value-c,t)),o.value!==t&&requestAnimationFrame(h)}h()};B(()=>{e()});function e(){a.value.useAnimation?(o.value=a.value.animationValueStart,v(u.dataset)):o.value=u.dataset}return b(()=>u.dataset,t=>{a.value.useAnimation?v(t):o.value=t}),(t,d)=>(i(),s("div",{class:m(`vue-ui-kpi ${a.value.layoutClass}`),style:y(`background:${a.value.backgroundColor}; ${a.value.layoutCss}`)},[n("div",{class:m(`vue-ui-kpi-title ${a.value.titleClass}`),style:y(`font-family: ${a.value.fontFamily}; font-size:${a.value.titleFontSize}px; color:${a.value.titleColor}; font-weight:${a.value.titleBold?"bold":"normal"}; ${a.value.titleCss}`)},[g(t.$slots,"title",{comment:l.dataset}),M(" "+F(a.value.title),1)],6),g(t.$slots,"comment-before",{comment:l.dataset}),n("div",{class:m(`vue-ui-kpi-value ${a.value.valueClass}`),style:y(`font-family: ${a.value.fontFamily}; font-size:${a.value.valueFontSize}px; color:${a.value.valueColor}; font-weight:${a.value.valueBold?"bold":"normal"}; ${a.value.valueCss}`)},[g(t.$slots,"value",{comment:l.dataset}),a.value.analogDigits.show?(i(),s("div",{key:0,style:y({height:a.value.analogDigits.height+"px"})},[z(Z,{dataset:Number(o.value.toFixed(a.value.valueRounding)),config:{backgroundColor:a.value.backgroundColor,digits:{color:a.value.analogDigits.color,skeletonColor:a.value.analogDigits.skeletonColor}}},null,8,["dataset","config"])],4)):(i(),s(k,{key:1},[M(F(p(D)(a.value.formatter,o.value,p(V)({p:a.value.prefix,v:o.value,s:a.value.suffix,r:a.value.valueRounding}))),1)],64))],6),g(t.$slots,"comment-after",{comment:l.dataset})],6))}};export{Q as default};
